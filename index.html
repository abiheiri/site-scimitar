<!DOCTYPE HTML>
<html lang="en">
  <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
      <meta name="description" content="Scimitar Guitars" />
      <meta name="keywords" content="Scimitar, Guitar, Biheiri, abiheiri" />

      <link rel="preload" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" as="style">
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" 
            integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
      <link rel="stylesheet" href="css/cover.css" />
      <link href='https://fonts.googleapis.com/css?family=Itim' rel='stylesheet' type='text/css'>

      <style>
        #logo img {
          max-width: 100%;
          height: auto;
        }
      </style>
  </head>

  <body>
    <header>
      <nav class="navbar">
        <div class="container flex-sm-nowrap justify-content-center">
          <div id="logo" class="mx-auto">
            <img src="images/logoWhite.svg" alt="Scimitar Guitars" loading="lazy">
          </div>
        </div>
      </nav>
    </header>
    
    <!-- Gallery Section -->
    <section class="text-center feed">
      <div id="gallery" class="gallery">
        <!-- Imgur images will be injected here -->
      </div>

      <!-- Pagination Controls -->
      <div class="pagination-controls">
        <button type="button" onclick="prevPage()">Previous</button>
        <button type="button" onclick="nextPage()">Next</button>
      </div>
    </section>
    
    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" 
            integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" 
            crossorigin="anonymous" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" 
            integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" 
            crossorigin="anonymous" defer></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" 
            integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" 
            crossorigin="anonymous" defer></script>
    
    <!-- Imgur API Fetch with Pagination -->
    <script>
      // Use your actual Client ID and album hash
      const clientId = 'b6a7daf71cc05c7';
      const albumHash = 'vsBwzmR';
    
      let allImages = [];
      let currentPage = 1;
      const imagesPerPage = 4;
    
      // Fetch images once from Imgur
      fetch(`https://api.imgur.com/3/album/${albumHash}/images`, {
        headers: {
          Authorization: `Client-ID ${clientId}`
        }
      })
        .then(response => response.json())
        .then(json => {
          allImages = json.data || [];
    
          // Randomize the order
          allImages.sort(() => Math.random() - 0.5);
    
          // Display the images in shuffled order
          displayImages(currentPage);
        })
        .catch(err => console.error(err));
    
      function displayImages(page) {
        const gallery = document.getElementById('gallery');
        gallery.innerHTML = '';
    
        const startIndex = (page - 1) * imagesPerPage;
        const endIndex = startIndex + imagesPerPage;
    
        const imagesToShow = allImages.slice(startIndex, endIndex);
        imagesToShow.forEach(img => {
          const linkEl = document.createElement('a');
          linkEl.href = `https://imgur.com/${img.id}`;
          linkEl.target = '_blank';
    
          const imgEl = document.createElement('img');
          imgEl.src = img.link;
          imgEl.alt = img.title || 'Scimitar Guitars Image';
    
          linkEl.appendChild(imgEl);
          gallery.appendChild(linkEl);
        });
      }
    
      function nextPage() {
        const totalPages = Math.ceil(allImages.length / imagesPerPage);
        if (currentPage < totalPages) {
          currentPage++;
          displayImages(currentPage);
        }
      }
    
      function prevPage() {
        if (currentPage > 1) {
          currentPage--;
          displayImages(currentPage);
        }
      }
    </script>
    
  </body>
</html>
